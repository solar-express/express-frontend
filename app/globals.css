@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 38 92% 50%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 38 92% 50%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 38 92% 50%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 38 92% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Fix for aria-hidden focus conflicts with dropdown menus and dialogs */
@layer utilities {
  /* Ensure dropdown menus have proper focus management */
  [data-radix-popper-content-wrapper] {
    z-index: 60 !important;
  }
  
  /* Prevent focus conflicts in nested interactive elements */
  [data-state="open"][data-radix-popper-content-wrapper] {
    pointer-events: auto !important;
  }
  
  /* Ensure dropdown menu items remain focusable */
  [role="menuitem"], [role="button"] {
    pointer-events: auto !important;
  }
  
  /* Override aria-hidden for interactive content */
  [aria-hidden="true"] [role="menuitem"],
  [aria-hidden="true"] [role="button"],
  [aria-hidden="true"] [data-radix-dropdown-menu-content],
  [aria-hidden="true"] [data-radix-dropdown-menu-item] {
    pointer-events: auto !important;
  }
}



/* Google Fonts - Gulzar for Urdu/Arabic text */
.gulzar-regular {
  font-family: "Gulzar", serif;
  font-weight: 400;
  font-style: normal;
}

/* Utility classes for Urdu text */
.font-urdu {
  font-family: "Gulzar", serif;
  font-weight: 400;
  font-style: normal;
  direction: rtl;
  text-align: right;
}

/* Auto-detect Urdu/Arabic characters and apply font */
.urdu-content {
  font-family: "Gulzar", serif;
  direction: rtl;
  text-align: right;
  line-height: 1.8;
}

/* Prose styles for Urdu content */
.urdu-content p,
.urdu-content h1,
.urdu-content h2,
.urdu-content h3,
.urdu-content h4,
.urdu-content h5,
.urdu-content h6,
.urdu-content ul,
.urdu-content ol,
.urdu-content li,
.urdu-content blockquote,
.urdu-content span,
.urdu-content div,
.urdu-content strong,
.urdu-content em,
.urdu-content b,
.urdu-content i,
.urdu-content a,
.urdu-content table,
.urdu-content td,
.urdu-content th {
  font-family: "Gulzar", serif;
  direction: rtl;
  text-align: right;
}

/* Ensure all nested elements in Urdu content use Gulzar */
.urdu-content * {
  font-family: "Gulzar", serif !important;
}

/* For mixed content with Urdu text */
.mixed-content {
  font-family: "Inter", sans-serif;
}

.mixed-content:lang(ur),
.mixed-content:lang(ps),
.mixed-content[dir="rtl"] {
  font-family: "Gulzar", serif;
  direction: rtl;
  text-align: right;
  line-height: 1.8;
}

/* Auto-detect Urdu/Arabic Unicode ranges */
:lang(ur),
:lang(ps),
*[dir="rtl"] {
  font-family: "Gulzar", serif;
  direction: rtl;
  text-align: right;
}

/* Specific character range detection for Urdu/Arabic */
.auto-urdu {
  font-family: "Inter", sans-serif;
}

.auto-urdu:has-text('[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]') {
  font-family: "Gulzar", serif;
  direction: rtl;
  text-align: right;
}
